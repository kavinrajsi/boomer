<div class="container realated-product">
  <section id="product_recommendation" class="content-justify-center">
    <h1 class="text-center page__title">Related Products</h1>
    <div id="product_recommendation_body" class="test--product-card--grid-four">

    </div>
  </section>
</div>

<script>
  var productRecommendationBody = document.getElementById('product_recommendation_body');

  fetch('/recommendations/products.json?product_id={{ product.id }}')
  .then(resp => resp.json())
  .then(({ products }) => {
    console.log(products);

    if(products.length > 0) {
      products.forEach(function(product, index) {
        var card;

        card = '<div class="product__card">';
        card += '<a href="' + product.url + '">';

        if(product.images.length > 0) {
          card += '<img class="card-img-top" src="' + product.images[0] + '">';
        }

        card += '<div class="product__card--content">';
        card += '<h3 class="product__title">' + product.title + '</h3>';
        card += '</div></a></div>';

        productRecommendationBody.innerHTML += card;
      });
    }
  });
</script>
